---
title: "Summary Data"
author: "Jeremy Mikecz"
format: html
editor: visual
jupyter: ir
---

# Get Summary Data (Practice with preloaded datasets)

## 0. Setup

For experienced users of R who regularly share their code with other researchers and experiment with others' code, we recommend setting up a separate **virtual environment** for each project.

If you are using R for a variety of different projects, you may risk encountering dependency conflicts. These occur when you may need Package *A* for a text analysis project and that package requires version 1.0 of Package *B*, while Package *C* for a machine-learning projects requires version 2.0 of Package *B*.

Setting up a virtual environment allows you to avoid such conflicts. Often, programmers use a different virtual environment for each project (and each project should be stored in a separate project folder).

This also provides another benefit. When sharing code with others, programmers can send a list of packages (and their specific versions) to collaborators so that they can reproduce the exact same environment on their machines. This, in turn, ensures that the experience of running the team's code is exactly the same for project members working on their own computers.

In Python, users typically use the **venv** library to create and use virtual environments. The primary tool for doing this in R is the [renv](https://rstudio.github.io/renv/) package. Review the documentation at this link for more advanced uses like sharing an R project with a **renv** virtual environment on Github.

Some possibly useful commands:

-   `install.packages("renv")` install renv (only need to do this once)

-   `renv::init()`: initiate a R project for use with **renv** (do once upon creating a new project)

-   `renv::snapshot()`: creates a file (called a lockfile) containing the metadata for all currently-used packages in the project library. You can then share this lockfile with others so that they can reproduce the same virtual environment on their own computer.

-   `renv::restore()`: imports R packages (and their specific versions) as stored in the project lockfile.

-   `renv::install(package-name)`: You may still use the typical `install.packages(package-name)` command to install packages to your project from the R package repository **CRAN**. However, **renv::install()** allows you to install packages from Github, Bioconductor, and more, in addition to CRAN.

-   `renv::update()`: to update your existing project package library with the latest versions.

-   `renv::migrate(path/to/root/dir)`: to migrate an existing project's dependencies stored in **packrat** (previous but deprecated R library for creating virtual environments) to **renv**.

```{r}
#install.packages("renv")    # un-comment out and run once for each new project
#renv::init()                # un-comment out and run once for each new project

# for more info: https://rstudio.github.io/renv/articles/renv.html
```

```{r}
library(tidyverse)
```

## 1. Retrieve Pre-loaded Datasets

Base R and some of its core data science packages (like tidyverse and its dependencies) come with preloaded datasets. We can use these preloaded to practice our data science skills.

First, to view the available preloaded datasets, run the following cell:

```{r}
data()
```

```{r}
help(starwars) 
```

In this lesson we will work with the **Star Wars** dataset that loads with the **dplyr** library (part of the tidyverse package).

```{r}
starwars
```

```{r}
readr::write_csv(starwars, "../data/starwars.csv")
```

## Get Summary Data about a Dataframe

```{r}
head(starwars)
```

```{r}
dim(starwars) 
```

```{r}
colnames(starwars)
```

```{r}
table(starwars$species)
```

```{r}
xtabs(data=starwars, ~species + homeworld) 
```

```{r}
summary(starwars)
```

## 

## Retrieve Data

Get one row

```{r}
starwars[1,]
```

Get one cell

```{r}
starwars$name[4]
```

Get item in list

```{r}
print(starwars$starships[1]) 
starwars$starships[[1]][1]
```
